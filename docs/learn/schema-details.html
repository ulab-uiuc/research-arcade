<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Schema Details • ResearchArcade</title>

  <!-- Open Graph / Twitter -->
  <meta name="description" content="Schema organization for ArXiv and OpenReview datasets - database structure, naming conventions, and cross-source linking." />
  <meta property="og:title" content="Schema Details • ResearchArcade" />
  <meta property="og:description" content="Schema organization for ArXiv and OpenReview datasets - database structure, naming conventions, and cross-source linking." />
  <meta property="og:image" content="../static/images/your_banner_image.png" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />

  <link rel="icon" type="image/x-icon" href="../static/images/favicon.ico" />
  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro" rel="stylesheet" />
  <link rel="stylesheet" href="../static/css/bulma.min.css" />
  <link rel="stylesheet" href="../static/css/fontawesome.all.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="../static/css/index.css" />

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="../static/js/fontawesome.all.min.js"></script>
</head>
<body>

  <!-- Top Hero -->
  <section class="hero is-white">
    <div class="hero-body">
      <div class="container is-max-desktop">
        <nav class="breadcrumb" aria-label="breadcrumbs">
          <ul>
            <li><a href="../index.html">Home</a></li>
            <li><a href="../learn/index.html">Learn</a></li>
            <li class="is-active"><a aria-current="page">Schema Details</a></li>
          </ul>
        </nav>
        <h1 class="title is-2">
          <span class="icon-text">
            <span class="icon"><i class="fa-solid fa-table-list"></i></span>
            <span>Schema Details</span>
          </span>
        </h1>
        <p class="subtitle is-5">
          Schema organization for <strong>ArXiv and OpenReview datasets</strong> - structure, naming, and linking.
        </p>
      </div>
    </div>
  </section>

  <!-- Overview -->
  <section class="section">
    <div class="container is-max-desktop">
      <div class="content">
        <h2 class="title is-3">Overview</h2>
        <p>
          ResearchArcade manages two distinct but interconnected datasets: ArXiv and OpenReview. To maintain clarity and enable efficient querying, these datasets are organized using separate schemas in SQL databases or separate directories in file-based storage. This page explains the organizational structure, naming conventions, and how data from both sources can be linked together.
        </p>
        
        <div class="notification is-info is-light">
          <span class="icon"><i class="fa-solid fa-circle-info"></i></span>
          <strong>Key Concept:</strong> 
          Separate schemas preserve data provenance while enabling cross-source queries and analysis.
        </div>
      </div>

      <!-- Schema Organization -->
      <div class="content mt-6">
        <h2 class="title is-3">Schema Organization</h2>
        <p>
          ResearchArcade uses two parallel schemas to organize data from different sources while maintaining a consistent data model.
        </p>

        <div class="columns is-multiline">
          <div class="column is-half">
            <div class="box">
              <h3 class="title is-5">
                <span class="icon-text">
                  <span class="icon has-text-info"><i class="fa-solid fa-folder"></i></span>
                  <span>ArXiv Schema</span>
                </span>
              </h3>
              <p>Contains papers from ArXiv.org with full-text parsing, sections, paragraphs, figures, tables, and citation data.</p>
              <ul class="mt-3">
                <li><strong>SQL:</strong> <code>arxiv</code> schema</li>
                <li><strong>CSV:</strong> <code>arxiv/</code> directory</li>
                <li><strong>Focus:</strong> Content structure and citations</li>
              </ul>
            </div>
          </div>

          <div class="column is-half">
            <div class="box">
              <h3 class="title is-5">
                <span class="icon-text">
                  <span class="icon has-text-success"><i class="fa-solid fa-folder"></i></span>
                  <span>OpenReview Schema</span>
                </span>
              </h3>
              <p>Contains papers from OpenReview with peer reviews, decisions, rebuttals, venues, and submission metadata.</p>
              <ul class="mt-3">
                <li><strong>SQL:</strong> <code>openreview</code> schema</li>
                <li><strong>CSV:</strong> <code>openreview/</code> directory</li>
                <li><strong>Focus:</strong> Peer review process and decisions</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- SQL Schema Structure -->
      <div class="content mt-6">
        <h2 class="title is-3">SQL Schema Structure</h2>
        <p>
          In SQL databases (PostgreSQL), data is organized into two schemas with identical table structures but different content sources.
        </p>

        <h3 class="title is-4 mt-5">ArXiv Schema Tables</h3>
        <div class="box has-background-light">
          <pre><code>arxiv.papers
arxiv.authors
arxiv.sections
arxiv.paragraphs
arxiv.figures
arxiv.tables
arxiv.authorship
arxiv.citations
arxiv.references
arxiv.revisions</code></pre>
        </div>

        <h3 class="title is-4 mt-5">OpenReview Schema Tables</h3>
        <div class="box has-background-light">
          <pre><code>openreview.papers
openreview.authors
openreview.reviews
openreview.decisions
openreview.rebuttals
openreview.venues
openreview.revisions
openreview.authorship
openreview.submitted_to</code></pre>
        </div>

        <h3 class="title is-4 mt-5">Querying Across Schemas</h3>
        <pre><code>-- Example: Join papers from both sources
SELECT 
    a.paper_id, 
    a.title AS arxiv_title,
    o.title AS openreview_title,
    r.rating AS avg_rating
FROM arxiv.papers a
JOIN openreview.papers o ON a.arxiv_id = o.arxiv_id
LEFT JOIN openreview.reviews r ON o.paper_id = r.paper_id;

-- Example: Find ArXiv papers submitted to conferences
SELECT 
    a.paper_id,
    a.title,
    v.name AS venue_name
FROM arxiv.papers a
JOIN openreview.papers o ON a.arxiv_id = o.arxiv_id
JOIN openreview.submitted_to st ON o.paper_id = st.paper_id
JOIN openreview.venues v ON st.venue_id = v.venue_id;</code></pre>
      </div>

      <!-- CSV Directory Structure -->
      <div class="content mt-6">
        <h2 class="title is-3">CSV Directory Structure</h2>
        <p>
          In file-based storage, data is organized into separate directories with parallel file structures.
        </p>

        <h3 class="title is-4 mt-5">Directory Layout</h3>
        <div class="box has-background-light">
          <pre><code>data/
├── arxiv/
│   ├── papers.csv
│   ├── authors.csv
│   ├── sections.csv
│   ├── paragraphs.csv
│   ├── figures.csv
│   ├── tables.csv
│   ├── authorship.csv
│   ├── citations.csv
│   ├── references.csv
│   └── revisions.csv
│
└── openreview/
    ├── papers.csv
    ├── authors.csv
    ├── reviews.csv
    ├── decisions.csv
    ├── rebuttals.csv
    ├── venues.csv
    ├── revisions.csv
    ├── authorship.csv
    └── submitted_to.csv</code></pre>
        </div>

        <h3 class="title is-4 mt-5">Loading and Joining CSV Data</h3>
        <pre><code>import pandas as pd

# Load data from both sources
arxiv_papers = pd.read_csv('data/arxiv/papers.csv')
openreview_papers = pd.read_csv('data/openreview/papers.csv')
reviews = pd.read_csv('data/openreview/reviews.csv')

# Join across sources using arxiv_id
merged = arxiv_papers.merge(
    openreview_papers, 
    on='arxiv_id', 
    suffixes=('_arxiv', '_openreview')
)

# Add review data
with_reviews = merged.merge(
    reviews, 
    left_on='paper_id_openreview',
    right_on='paper_id'
)</code></pre>
      </div>

      <!-- Cross-Source Linking -->
      <div class="content mt-6">
        <h2 class="title is-3">Cross-Source Linking</h2>
        <p>
          Papers can exist in both ArXiv and OpenReview datasets. ResearchArcade provides stable identifiers for linking data across sources.
        </p>

        <h3 class="title is-4 mt-5">Primary Linking Fields</h3>
        <div class="table-container">
          <table class="table is-striped is-fullwidth">
            <thead>
              <tr>
                <th>Field</th>
                <th>Type</th>
                <th>Description</th>
                <th>Example</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>arxiv_id</code></td>
                <td>string</td>
                <td>ArXiv identifier present in both schemas</td>
                <td>2301.12345</td>
              </tr>
              <tr>
                <td><code>doi</code></td>
                <td>string</td>
                <td>Digital Object Identifier (when available)</td>
                <td>10.1234/example</td>
              </tr>
              <tr>
                <td><code>title</code></td>
                <td>string</td>
                <td>Paper title (fuzzy matching)</td>
                <td>Attention Is All You Need</td>
              </tr>
            </tbody>
          </table>
        </div>

        <h3 class="title is-4 mt-5">Linking Strategy</h3>
        <div class="box">
          <h4 class="title is-6">1. Primary Match: ArXiv ID</h4>
          <p>The most reliable method. OpenReview papers often include ArXiv IDs, enabling direct joins.</p>
        </div>

        <div class="box">
          <h4 class="title is-6">2. Secondary Match: DOI</h4>
          <p>When available, DOIs provide stable cross-platform identifiers.</p>
        </div>

        <div class="box">
          <h4 class="title is-6">3. Tertiary Match: Title + Author Matching</h4>
          <p>Fuzzy matching on title and author names when identifiers are unavailable. Requires validation.</p>
        </div>
      </div>

      <!-- Entity Overlap -->
      <div class="content mt-6">
        <h2 class="title is-3">Entity Distribution</h2>
        <p>
          Different entity types are available in each schema based on the data source characteristics.
        </p>

        <h3 class="title is-4 mt-5">Entity Availability by Schema</h3>
        <div class="table-container">
          <table class="table is-striped is-fullwidth">
            <thead>
              <tr>
                <th>Entity Type</th>
                <th>ArXiv Schema</th>
                <th>OpenReview Schema</th>
                <th>Notes</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Paper</strong></td>
                <td><span class="tag is-success">Yes</span></td>
                <td><span class="tag is-success">Yes</span></td>
                <td>Core entity in both schemas</td>
              </tr>
              <tr>
                <td><strong>Author</strong></td>
                <td><span class="tag is-success">Yes</span></td>
                <td><span class="tag is-success">Yes</span></td>
                <td>May be anonymous in OpenReview</td>
              </tr>
              <tr>
                <td><strong>Section</strong></td>
                <td><span class="tag is-success">Yes</span></td>
                <td><span class="tag is-warning">Limited</span></td>
                <td>Full structure in ArXiv; basic in OpenReview</td>
              </tr>
              <tr>
                <td><strong>Paragraph</strong></td>
                <td><span class="tag is-success">Yes</span></td>
                <td><span class="tag is-danger">No</span></td>
                <td>ArXiv only</td>
              </tr>
              <tr>
                <td><strong>Figure</strong></td>
                <td><span class="tag is-success">Yes</span></td>
                <td><span class="tag is-warning">Limited</span></td>
                <td>Extracted from PDFs in both</td>
              </tr>
              <tr>
                <td><strong>Table</strong></td>
                <td><span class="tag is-success">Yes</span></td>
                <td><span class="tag is-warning">Limited</span></td>
                <td>Extracted from PDFs in both</td>
              </tr>
              <tr>
                <td><strong>Review</strong></td>
                <td><span class="tag is-danger">No</span></td>
                <td><span class="tag is-success">Yes</span></td>
                <td>OpenReview only</td>
              </tr>
              <tr>
                <td><strong>Decision</strong></td>
                <td><span class="tag is-danger">No</span></td>
                <td><span class="tag is-success">Yes</span></td>
                <td>OpenReview only</td>
              </tr>
              <tr>
                <td><strong>Rebuttal</strong></td>
                <td><span class="tag is-danger">No</span></td>
                <td><span class="tag is-success">Yes</span></td>
                <td>OpenReview only</td>
              </tr>
              <tr>
                <td><strong>Venue</strong></td>
                <td><span class="tag is-danger">No</span></td>
                <td><span class="tag is-success">Yes</span></td>
                <td>OpenReview only</td>
              </tr>
              <tr>
                <td><strong>Revision</strong></td>
                <td><span class="tag is-success">Yes</span></td>
                <td><span class="tag is-success">Yes</span></td>
                <td>Version tracking in both</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Naming Conventions -->
      <div class="content mt-6">
        <h2 class="title is-3">Naming Conventions</h2>
        
        <h3 class="title is-4 mt-5">Table/File Naming</h3>
        <ul>
          <li><strong>Entities:</strong> Plural nouns (e.g., <code>papers</code>, <code>authors</code>, <code>reviews</code>)</li>
          <li><strong>Relations:</strong> Descriptive names (e.g., <code>authorship</code>, <code>citations</code>, <code>submitted_to</code>)</li>
          <li><strong>Case:</strong> Lowercase with underscores (snake_case)</li>
        </ul>

        <h3 class="title is-4 mt-5">Column/Field Naming</h3>
        <ul>
          <li><strong>Primary Keys:</strong> <code>{entity}_id</code> (e.g., <code>paper_id</code>, <code>review_id</code>)</li>
          <li><strong>Foreign Keys:</strong> Match referenced primary key name</li>
          <li><strong>Dates:</strong> <code>{context}_date</code> (e.g., <code>publish_date</code>, <code>review_date</code>)</li>
          <li><strong>Text Fields:</strong> Descriptive names (e.g., <code>title</code>, <code>abstract</code>, <code>content</code>)</li>
        </ul>

        <h3 class="title is-4 mt-5">Identifier Format</h3>
        <div class="table-container">
          <table class="table is-striped is-fullwidth">
            <thead>
              <tr>
                <th>ID Type</th>
                <th>Format</th>
                <th>Example</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>ArXiv Paper ID</td>
                <td><code>arxiv-{arxiv_id}</code></td>
                <td>arxiv-2301.12345</td>
              </tr>
              <tr>
                <td>OpenReview Paper ID</td>
                <td><code>or-{submission_id}</code></td>
                <td>or-abcd1234efgh</td>
              </tr>
              <tr>
                <td>Author ID</td>
                <td><code>{schema}-author-{hash}</code></td>
                <td>arxiv-author-5f8a9b2c</td>
              </tr>
              <tr>
                <td>Review ID</td>
                <td><code>or-review-{hash}</code></td>
                <td>or-review-3d7e6a1b</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Best Practices -->
      <div class="content mt-6">
        <h2 class="title is-3">Best Practices</h2>
        
        <div class="notification is-warning is-light">
          <ul class="mb-0">
            <li>Always specify schema/directory when querying to avoid ambiguity</li>
            <li>Use <code>arxiv_id</code> as the primary linking field between schemas</li>
            <li>Maintain separate author entities per schema (same person may have different IDs)</li>
            <li>Check data provenance using the <code>source</code> field in paper entities</li>
            <li>Use views or wrapper functions to simplify cross-schema queries</li>
            <li>Document any custom linking logic for title/author fuzzy matching</li>
          </ul>
        </div>
      </div>

      <!-- Example Queries -->
      <div class="content mt-6">
        <h2 class="title is-3">Example Cross-Schema Queries</h2>

        <h3 class="title is-4 mt-5">Papers with Both ArXiv and OpenReview Data</h3>
        <pre><code>SELECT 
    a.paper_id AS arxiv_paper_id,
    o.paper_id AS openreview_paper_id,
    a.title,
    a.arxiv_id,
    COUNT(r.review_id) AS review_count,
    AVG(r.rating) AS avg_rating
FROM arxiv.papers a
JOIN openreview.papers o ON a.arxiv_id = o.arxiv_id
LEFT JOIN openreview.reviews r ON o.paper_id = r.paper_id
GROUP BY a.paper_id, o.paper_id, a.title, a.arxiv_id;</code></pre>

        <h3 class="title is-4 mt-5">Citation Analysis with Review Scores</h3>
        <pre><code>SELECT 
    cited.paper_id,
    cited.title,
    COUNT(DISTINCT cit.citing_paper_id) AS citation_count,
    AVG(r.rating) AS avg_review_rating
FROM arxiv.papers cited
LEFT JOIN arxiv.citations cit ON cited.paper_id = cit.cited_paper_id
LEFT JOIN openreview.papers o ON cited.arxiv_id = o.arxiv_id
LEFT JOIN openreview.reviews r ON o.paper_id = r.paper_id
GROUP BY cited.paper_id, cited.title
ORDER BY citation_count DESC;</code></pre>

        <h3 class="title is-4 mt-5">Conference Acceptance Rates</h3>
        <pre><code>SELECT 
    v.name AS venue_name,
    v.year,
    COUNT(DISTINCT p.paper_id) AS total_submissions,
    SUM(CASE WHEN d.decision_type = 'accept' THEN 1 ELSE 0 END) AS accepted,
    ROUND(100.0 * SUM(CASE WHEN d.decision_type = 'accept' THEN 1 ELSE 0 END) / 
          COUNT(DISTINCT p.paper_id), 2) AS acceptance_rate
FROM openreview.venues v
JOIN openreview.submitted_to st ON v.venue_id = st.venue_id
JOIN openreview.papers p ON st.paper_id = p.paper_id
LEFT JOIN openreview.decisions d ON p.paper_id = d.paper_id
GROUP BY v.venue_id, v.name, v.year
ORDER BY v.year DESC, v.name;</code></pre>
      </div>

      <!-- Related Resources -->
      <div class="content mt-6">
        <h2 class="title is-3">Related Resources</h2>
        <div class="columns is-multiline">
          <div class="column is-one-third">
            <a class="box" href="./entities.html">
              <h3 class="title is-6">
                <span class="icon-text">
                  <span class="icon"><i class="fa-solid fa-circle-nodes"></i></span>
                  <span>Entity Reference</span>
                </span>
              </h3>
              <p class="is-size-7">Complete entity type documentation</p>
            </a>
          </div>
          <div class="column is-one-third">
            <a class="box" href="./relations.html">
              <h3 class="title is-6">
                <span class="icon-text">
                  <span class="icon"><i class="fa-solid fa-arrows-left-right"></i></span>
                  <span>Relationship Reference</span>
                </span>
              </h3>
              <p class="is-size-7">How entities connect to each other</p>
            </a>
          </div>
          <div class="column is-one-third">
          </div>
        </div>
      </div>

    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="content has-text-centered is-size-7">
        <p>
          Built with the <a href="https://github.com/eliahuhorwitz/Academic-project-page-template" target="_blank">Academic Project Page Template</a>.
          Licensed under <a href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank">CC BY-SA 4.0</a>.
        </p>
      </div>
    </div>
  </footer>

</body>
</html>