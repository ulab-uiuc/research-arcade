<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Add Nodes & Edges • ResearchArcade Tutorials</title>
  
  <meta name="description" content="Learn how to create new entities and relationships in the ResearchArcade graph database." />
  <meta property="og:title" content="Add Nodes & Edges • ResearchArcade Tutorials" />
  <meta property="og:description" content="Learn how to create new entities and relationships in the ResearchArcade graph database." />
  <meta property="og:image" content="../static/images/your_banner_image.png" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />

  <link rel="icon" type="image/x-icon" href="../static/images/favicon.ico" />
  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro" rel="stylesheet" />
  <link rel="stylesheet" href="../static/css/bulma.min.css" />
  <link rel="stylesheet" href="../static/css/fontawesome.all.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="../static/css/index.css" />
  
  <style>
    .code-container {
      display: none;
      margin-top: 1rem;
    }
    
    .code-container.is-active {
      display: block;
    }
    
    .select-full-width {
      width: 100%;
    }
    
    .select-full-width select {
      width: 100%;
    }
    
    pre {
      background-color: #f5f5f5;
      padding: 1.25rem 1.5rem;
      overflow-x: auto;
    }
    
    code {
      background-color: transparent;
      color: #363636;
      font-size: 0.875em;
      font-weight: normal;
      padding: 0;
    }
    
    .placeholder-text {
      color: #7a7a7a;
      font-style: italic;
      padding: 2rem;
      text-align: center;
      background-color: #fafafa;
      border: 2px dashed #dbdbdb;
      border-radius: 4px;
    }
  </style>
</head>
<body>

  <!-- Hero -->
  <section class="hero is-white">
    <div class="hero-body">
      <div class="container is-max-desktop">
        <nav class="breadcrumb" aria-label="breadcrumbs">
          <ul>
            <li><a href="../index.html">Home</a></li>
            <li><a href="./index.html">Tutorials</a></li>
            <li class="is-active"><a aria-current="page">Add Nodes & Edges</a></li>
          </ul>
        </nav>
        <h1 class="title is-2">Add Nodes & Edges</h1>
        <p class="subtitle is-5">Create new entities and relationships in the graph database.</p>
      </div>
    </div>
  </section>

  <!-- Tutorial Content -->
  <section class="section">
    <div class="container is-max-desktop">
      
      <!-- Overview -->
      <div class="content">
        <h2 class="title is-3">Overview</h2>
        <p>
          This tutorial demonstrates how to add nodes (entities) and edges (relationships) to your ResearchArcade graph database. 
          You'll learn the basic CRUD operations for creating papers, authors, citations, and other research entities.
        </p>
      </div>

      <!-- Prerequisites -->
      <div class="content mt-5">
        <h2 class="title is-3">Prerequisites</h2>
        <ul>
          <li>ResearchArcade installed and configured (see <a href="./setup.html">Getting Started</a>)</li>
          <li>Active database connection if SQL db is selected</li>
        </ul>
      </div>

      <!-- Adding Nodes -->
      <div class="content mt-6">
        <h2 class="title is-3">Adding Nodes</h2>
        <p>
          Select a node type below to see the code example for creating that entity:
        </p>
        
        <div class="field mt-4">
          <label class="label">Select Node Type:</label>
          <div class="control">
            <div class="select select-full-width is-medium">
              <select id="nodeTypeSelect">
                <option value="">-- Choose a node type --</option>
                <option value="arxiv_papers">arxiv_papers</option>
                <option value="arxiv_authors">arxiv_authors</option>
                <option value="arxiv_categories">arxiv_categories</option>
                <option value="arxiv_sections">arxiv_sections</option>
                <option value="arxiv_paragraphs">arxiv_paragraphs</option>
                <option value="arxiv_figures">arxiv_figures</option>
                <option value="arxiv_tables">arxiv_tables</option>
                <option value="openreview_authors">openreview_authors</option>
                <option value="openreview_papers">openreview_papers</option>
                <option value="openreview_reviews">openreview_reviews</option>
                <option value="openreview_revisions">openreview_revisions</option>
                <option value="openreview_paragraphs">openreview_paragraphs</option>
                <option value="openreview_arxiv">openreview_arxiv</option>
              </select>
            </div>
          </div>
        </div>

        <div id="nodePlaceholder" class="placeholder-text">
          <i class="fas fa-hand-pointer fa-2x mb-3"></i>
          <p>Select a node type from the dropdown above to view the code example.</p>
        </div>

        <!-- Paper Node -->
        <div id="node-paper" class="code-container">
          <h3 class="title is-5">Creating a Paper Node</h3>
          <p>Add a new research paper with metadata such as title, abstract, publication date, and DOI:</p>
          <pre><code># Example 1: Insert the famous "Attention is All You Need" paper
new_paper = {
    'arxiv_id': '1706.03762v7',
    'base_arxiv_id': '1706.03762',
    'version': 7,
    'title': 'Attention Is All You Need',
    'abstract': 'The dominant sequence transduction models are based on complex recurrent or convolutional neural networks in an encoder-decoder configuration. The best performing models also connect the encoder and decoder through an attention mechanism. We propose a new simple network architecture, the Transformer, based solely on attention mechanisms, dispensing with recurrence and convolutions entirely. Experiments on two machine translation tasks show these models to be superior in quality while being more parallelizable and requiring significantly less time to train. Our model achieves 28.4 BLEU on the WMT 2014 English-to-German translation task, improving over the existing best results, including ensembles by over 2 BLEU. On the WMT 2014 English-to-French translation task, our model establishes a new single-model state-of-the-art BLEU score of 41.8 after training for 3.5 days on eight GPUs, a small fraction of the training costs of the best models from the literature. We show that the Transformer generalizes well to other tasks by applying it successfully to English constituency parsing both with large and limited training data.',
    'submit_date': '2017-06-12',
    'metadata': {'venue': 'NeurIPS 2017', 'pdf_url': 'https://arxiv.org/pdf/1706.03762.pdf'}
}

research_arcade.insert_node("arxiv_papers", node_features=new_paper)
print("Paper inserted successfully!")
</code></pre>
        </div>

        <!-- Author Node -->
        <div id="node-author" class="code-container">
          <h3 class="title is-5">Creating an Author Node</h3>
          <p>Add an author with their name, affiliation, and contact information:</p>
          <pre><code># Insert authors from the Transformer paper
authors = [
    {
        'semantic_scholar_id': 'ss_ashish_vaswani',
        'name': 'Ashish Vaswani',
        'homepage': 'https://scholar.google.com/citations?user=oR9sCGYAAAAJ'
    },
    {
        'semantic_scholar_id': 'ss_noam_shazeer',
        'name': 'Noam Shazeer',
        'homepage': 'https://scholar.google.com/citations?user=oR9sCGYAAAAJ'
    },
    {
        'semantic_scholar_id': 'ss_niki_parmar',
        'name': 'Niki Parmar',
        'homepage': 'https://scholar.google.com/citations?user=oR9sCGYAAAAJ'
    },
    {
        'semantic_scholar_id': 'ss_jakob_uszkoreit',
        'name': 'Jakob Uszkoreit',
        'homepage': 'https://scholar.google.com/citations?user=oR9sCGYAAAAJ'
    },
    {
        'semantic_scholar_id': 'ss_llion_jones',
        'name': 'Llion Jones',
        'homepage': 'https://scholar.google.com/citations?user=oR9sCGYAAAAJ'
    }
]

for author in authors:
    research_arcade.insert_node("arxiv_authors", node_features=author)
    print(f"Inserted author: {author['name']}")
</code></pre>
        </div>

        <!-- Section Node -->
        <div id="node-section" class="code-container">
          <h3 class="title is-5">Creating a Section Node</h3>
          <p>Add a section that belongs to a paper (e.g., Introduction, Methods, Results):</p>
          <pre><code># Insert sections for the Transformer paper
sections = [
    {
        'content': 'The dominant sequence transduction models are based on complex recurrent or convolutional neural networks that include an encoder and a decoder...',
        'title': 'Introduction',
        'appendix': False,
        'paper_arxiv_id': '1706.03762v7',
        'section_in_paper_id': 1
    },
    {
        'content': 'Most competitive neural sequence transduction models have an encoder-decoder structure. Here, the encoder maps an input sequence of symbol representations...',
        'title': 'Background',
        'appendix': False,
        'paper_arxiv_id': '1706.03762v7',
        'section_in_paper_id': 2
    },
    {
        'content': 'Most neural sequence transduction models have an encoder-decoder structure. The Transformer follows this overall architecture using stacked self-attention and point-wise, fully connected layers...',
        'title': 'Model Architecture',
        'appendix': False,
        'paper_arxiv_id': '1706.03762v7',
        'section_in_paper_id': 3
    },
    {
        'content': 'In this section we describe the training regime for our models...',
        'title': 'Training',
        'appendix': False,
        'paper_arxiv_id': '1706.03762v7',
        'section_in_paper_id': 4
    },
    {
        'content': 'On the WMT 2014 English-to-German translation task, the big transformer model outperforms the best previously reported models...',
        'title': 'Results',
        'appendix': False,
        'paper_arxiv_id': '1706.03762v7',
        'section_in_paper_id': 5
    },
    {
        'content': 'In this work, we presented the Transformer, the first sequence transduction model based entirely on attention, replacing the recurrent layers...',
        'title': 'Conclusion',
        'appendix': False,
        'paper_arxiv_id': '1706.03762v7',
        'section_in_paper_id': 6
    }
]

for section in sections:
    research_arcade.insert_node("arxiv_sections", node_features=section)
    print(f"Inserted section: {section['title']}")
</code></pre>
        </div>

        <!-- Paragraph Node -->
        <div id="node-paragraph" class="code-container">
          <h3 class="title is-5">Creating a Paragraph Node</h3>
          <p>Add a paragraph within a section:</p>
          <pre><code># Insert paragraphs from the Introduction section
paragraphs = [
    {
        'paragraph_id': 1,
        'content': 'Recurrent neural networks, long short-term memory and gated recurrent neural networks in particular, have been firmly established as state of the art approaches in sequence modeling and transduction problems such as language modeling and machine translation.',
        'paper_arxiv_id': '1706.03762v7',
        'paper_section': 'Introduction',
        'section_id': 1,
        'paragraph_in_paper_id': 1
    },
    {
        'paragraph_id': 2,
        'content': 'Numerous efforts have since continued to push the boundaries of recurrent language models and encoder-decoder architectures. Recurrent models typically factor computation along the symbol positions of the input and output sequences.',
        'paper_arxiv_id': '1706.03762v7',
        'paper_section': 'Introduction',
        'section_id': 1,
        'paragraph_in_paper_id': 2
    },
    {
        'paragraph_id': 3,
        'content': 'Aligning the positions to steps in computation time, they generate a sequence of hidden states h_t, as a function of the previous hidden state h_{t-1} and the input for position t. This inherently sequential nature precludes parallelization within training examples, which becomes critical at longer sequence lengths, as memory constraints limit batching across examples.',
        'paper_arxiv_id': '1706.03762v7',
        'paper_section': 'Introduction',
        'section_id': 1,
        'paragraph_in_paper_id': 3
    },
    {
        'paragraph_id': 4,
        'content': 'Attention mechanisms have become an integral part of compelling sequence modeling and transduction models in various tasks, allowing modeling of dependencies without regard to their distance in the input or output sequences.',
        'paper_arxiv_id': '1706.03762v7',
        'paper_section': 'Introduction',
        'section_id': 1,
        'paragraph_in_paper_id': 4
    },
    {
        'paragraph_id': 5,
        'content': 'In this work we propose the Transformer, a model architecture eschewing recurrence and instead relying entirely on an attention mechanism to draw global dependencies between input and output. The Transformer allows for significantly more parallelization and can reach a new state of the art in translation quality after being trained for as little as twelve hours on eight P100 GPUs.',
        'paper_arxiv_id': '1706.03762v7',
        'paper_section': 'Introduction',
        'section_id': 1,
        'paragraph_in_paper_id': 5
    }
]

for paragraph in paragraphs:
    research_arcade.insert_node("arxiv_paragraphs", node_features=paragraph)
    print(f"Inserted paragraph {paragraph['paragraph_id']} from {paragraph['paper_section']}")
</code></pre>
        </div>

        <!-- Figure Node -->
        <div id="node-figure" class="code-container">
          <h3 class="title is-5">Creating a Figure Node</h3>
          <p>Add a figure with its caption and metadata:</p>
          <pre><code>from researcharcade import GraphDB

# Initialize database connection
db = GraphDB()

# Create a new figure node
figure = db.create_node(
    node_type="Figure",
    properties={
        "figure_number": "1",
        "caption": "The Transformer model architecture showing encoder and decoder stacks.",
        "image_url": "https://example.com/figures/transformer_architecture.png",
        "image_format": "PNG",
        "width": 800,
        "height": 600,
        "file_size_kb": 245
    }
)

# Link figure to its paper
db.create_edge(
    from_node=paper_id,
    to_node=figure.id,
    edge_type="HAS_FIGURE",
    properties={"figure_number": 1}
)

print(f"Created figure with ID: {figure.id}")</code></pre>
        </div>

        <!-- Table Node -->
        <div id="node-table" class="code-container">
          <h3 class="title is-5">Creating a Table Node</h3>
          <p>Add a table with structured data:</p>
          <pre><code>from researcharcade import GraphDB

# Initialize database connection
db = GraphDB()

# Create a new table node
table = db.create_node(
    node_type="Table",
    properties={
        "table_number": "1",
        "caption": "Comparison of model performance on WMT 2014 English-German translation.",
        "num_rows": 5,
        "num_columns": 4,
        "data": [
            ["Model", "BLEU", "Parameters", "Training Time"],
            ["Transformer Base", "27.3", "65M", "12 hours"],
            ["Transformer Big", "28.4", "213M", "3.5 days"]
        ]
    }
)

# Link table to its paper
db.create_edge(
    from_node=paper_id,
    to_node=table.id,
    edge_type="HAS_TABLE",
    properties={"table_number": 1}
)

print(f"Created table with ID: {table.id}")</code></pre>
        </div>

        <!-- Equation Node -->
        <div id="node-equation" class="code-container">
          <h3 class="title is-5">Creating an Equation Node</h3>
          <p>Add a mathematical equation:</p>
          <pre><code>from researcharcade import GraphDB

# Initialize database connection
db = GraphDB()

# Create a new equation node
equation = db.create_node(
    node_type="Equation",
    properties={
        "equation_number": "1",
        "latex": "\\text{Attention}(Q, K, V) = \\text{softmax}(\\frac{QK^T}{\\sqrt{d_k}})V",
        "description": "Scaled dot-product attention mechanism",
        "variables": ["Q", "K", "V", "d_k"]
    }
)

# Link equation to its paper or section
db.create_edge(
    from_node=section_id,
    to_node=equation.id,
    edge_type="HAS_EQUATION",
    properties={"equation_number": 1}
)

print(f"Created equation with ID: {equation.id}")</code></pre>
        </div>

        <!-- Review Node -->
        <div id="node-review" class="code-container">
          <h3 class="title is-5">Creating a Review Node</h3>
          <p>Add a peer review or commentary on a paper:</p>
          <pre><code>from researcharcade import GraphDB

# Initialize database connection
db = GraphDB()

# Create a new review node
review = db.create_node(
    node_type="Review",
    properties={
        "rating": 8,
        "confidence": 4,
        "summary": "This paper presents a novel architecture that significantly advances the field...",
        "strengths": "Clear presentation, strong empirical results, thorough ablation studies",
        "weaknesses": "Limited discussion of computational costs",
        "recommendation": "Accept",
        "reviewer_id": "reviewer_123",
        "review_date": "2017-05-15",
        "is_public": False
    }
)

# Link review to the paper
db.create_edge(
    from_node=review.id,
    to_node=paper_id,
    edge_type="REVIEWS",
    properties={"review_date": "2017-05-15"}
)

print(f"Created review with ID: {review.id}")</code></pre>
        </div>

        <!-- Venue Node -->
        <div id="node-venue" class="code-container">
          <h3 class="title is-5">Creating a Venue Node</h3>
          <p>Add a publication venue (conference or journal):</p>
          <pre><code>from researcharcade import GraphDB

# Initialize database connection
db = GraphDB()

# Create a new venue node
venue = db.create_node(
    node_type="Venue",
    properties={
        "name": "Neural Information Processing Systems",
        "short_name": "NeurIPS",
        "type": "Conference",
        "year": 2017,
        "location": "Long Beach, CA, USA",
        "url": "https://nips.cc/Conferences/2017",
        "acceptance_rate": 0.21,
        "h5_index": 332
    }
)

# Link paper to venue
db.create_edge(
    from_node=paper_id,
    to_node=venue.id,
    edge_type="PUBLISHED_IN",
    properties={"year": 2017}
)

print(f"Created venue with ID: {venue.id}")</code></pre>
        </div>

        <!-- Institution Node -->
        <div id="node-institution" class="code-container">
          <h3 class="title is-5">Creating an Institution Node</h3>
          <p>Add an academic or research institution:</p>
          <pre><code>from researcharcade import GraphDB

# Initialize database connection
db = GraphDB()

# Create a new institution node
institution = db.create_node(
    node_type="Institution",
    properties={
        "name": "Google Brain",
        "type": "Research Lab",
        "parent_organization": "Google",
        "country": "USA",
        "city": "Mountain View, CA",
        "url": "https://research.google/teams/brain/",
        "founded": 2011
    }
)

# Link author to institution
db.create_edge(
    from_node=author_id,
    to_node=institution.id,
    edge_type="AFFILIATED_WITH",
    properties={"start_date": "2015-01-01"}
)

print(f"Created institution with ID: {institution.id}")</code></pre>
        </div>

        <!-- Keyword Node -->
        <div id="node-keyword" class="code-container">
          <h3 class="title is-5">Creating a Keyword Node</h3>
          <p>Add a keyword or research topic:</p>
          <pre><code>from researcharcade import GraphDB

# Initialize database connection
db = GraphDB()

# Create a new keyword node
keyword = db.create_node(
    node_type="Keyword",
    properties={
        "term": "Attention Mechanism",
        "category": "Deep Learning",
        "definition": "A technique allowing neural networks to focus on relevant parts of input",
        "aliases": ["Self-Attention", "Attention Layer"]
    }
)

# Link paper to keyword
db.create_edge(
    from_node=paper_id,
    to_node=keyword.id,
    edge_type="HAS_KEYWORD",
    properties={"relevance_score": 0.95}
)

print(f"Created keyword with ID: {keyword.id}")</code></pre>
        </div>

        <!-- Dataset Node -->
        <div id="node-dataset" class="code-container">
          <h3 class="title is-5">Creating a Dataset Node</h3>
          <p>Add a research dataset:</p>
          <pre><code>from researcharcade import GraphDB

# Initialize database connection
db = GraphDB()

# Create a new dataset node
dataset = db.create_node(
    node_type="Dataset",
    properties={
        "name": "WMT 2014 English-German",
        "description": "Workshop on Machine Translation 2014 translation dataset",
        "size": "4.5M sentence pairs",
        "url": "https://www.statmt.org/wmt14/",
        "license": "CC BY-SA 4.0",
        "format": "parallel text",
        "domain": "news"
    }
)

# Link paper to dataset
db.create_edge(
    from_node=paper_id,
    to_node=dataset.id,
    edge_type="USES_DATASET",
    properties={"purpose": "evaluation"}
)

print(f"Created dataset with ID: {dataset.id}")</code></pre>
        </div>
      </div>

      <!-- Adding Edges -->
      <div class="content mt-6">
        <h2 class="title is-3">Adding Edges</h2>
        <p>
          Select an edge type below to see the code example for creating that relationship:
        </p>
        
        <div class="field mt-4">
          <label class="label">Select Edge Type:</label>
          <div class="control">
            <div class="select select-full-width is-medium">
              <select id="edgeTypeSelect">
                <option value="">-- Choose an edge type --</option>
                <option value="arxiv_paper_author">arxiv_paper_author (Author → Paper)</option>
                <option value="arxiv_paper_category">arxiv_paper_category</option>
                <option value="arxiv_citation">arxiv_citation</option>
                <option value="arxiv_paper_figures">arxiv_paper_figures</option>
                <option value="arxiv_paper_tables">arxiv_paper_tables</option>
                <option value="arxiv_paragraph_citations">arxiv_paragraph_citations</option>
                <option value="arxiv_paragraph_references">arxiv_paragraph_references</option>
                <option value="openreview_papers_authors">openreview_papers_authors</option>
                <option value="openreview_papers_reviews">openreview_papers_reviews</option>
                <option value="openreview_papers_revisions">openreview_papers_revisions</option>
                <option value="openreview_revisions_reviews">openreview_revisions_reviews</option>
              </select>
            </div>
          </div>
        </div>

        <div id="edgePlaceholder" class="placeholder-text">
          <i class="fas fa-hand-pointer fa-2x mb-3"></i>
          <p>Select an edge type from the dropdown above to view the code example.</p>
        </div>

        <!-- Authorship Edge -->
        <div id="edge-authorship" class="code-container">
          <h3 class="title is-5">Creating Authorship Relationships</h3>
          <p>Connect authors to papers they have written:</p>
          <pre><code># Create authorship relationships for the Transformer paper
paper_authors = [
    {
        'paper_arxiv_id': '1706.03762v7',
        'author_id': 'ss_ashish_vaswani',
        'author_sequence': 1
    },
    {
        'paper_arxiv_id': '1706.03762v7',
        'author_id': 'ss_noam_shazeer',
        'author_sequence': 2
    },
    {
        'paper_arxiv_id': '1706.03762v7',
        'author_id': 'ss_niki_parmar',
        'author_sequence': 3
    },
    {
        'paper_arxiv_id': '1706.03762v7',
        'author_id': 'ss_jakob_uszkoreit',
        'author_sequence': 4
    },
    {
        'paper_arxiv_id': '1706.03762v7',
        'author_id': 'ss_llion_jones',
        'author_sequence': 5
    }
]

for relation in paper_authors:
    research_arcade.insert_edge("arxiv_paper_authors", edge_features=relation)
    print(f"Linked author {relation['author_id']} to paper (position {relation['author_sequence']})")
</code></pre>
        </div>

        <!-- Citation Edge -->
        <div id="edge-citation" class="code-container">
          <h3 class="title is-5">Creating Citation Relationships</h3>
          <p>Link papers together through citations:</p>
          <pre><code>from researcharcade import GraphDB

# Initialize database connection
db = GraphDB()

# Create citation edge (citing_paper cites cited_paper)
citation = db.create_edge(
    from_node=citing_paper_id,
    to_node=cited_paper_id,
    edge_type="CITES",
    properties={
        "citation_context": "We build upon the architecture proposed by Vaswani et al...",
        "section": "Related Work",
        "citation_count": 1,
        "is_self_citation": False
    }
)

print(f"Created citation with ID: {citation.id}")</code></pre>
        </div>

        <!-- Has Section Edge -->
        <div id="edge-has_section" class="code-container">
          <h3 class="title is-5">Creating Has Section Relationships</h3>
          <p>Define the hierarchical structure between papers and their sections:</p>
          <pre><code>from researcharcade import GraphDB

# Initialize database connection
db = GraphDB()

# Create has_section edge
has_section = db.create_edge(
    from_node=paper_id,
    to_node=section_id,
    edge_type="HAS_SECTION",
    properties={
        "order": 2,  # Second section in the paper
        "section_type": "methods"
    }
)

print(f"Created has_section relationship with ID: {has_section.id}")</code></pre>
        </div>

        <!-- Has Paragraph Edge -->
        <div id="edge-has_paragraph" class="code-container">
          <h3 class="title is-5">Creating Has Paragraph Relationships</h3>
          <p>Connect sections to their constituent paragraphs:</p>
          <pre><code>from researcharcade import GraphDB

# Initialize database connection
db = GraphDB()

# Create has_paragraph edge
has_paragraph = db.create_edge(
    from_node=section_id,
    to_node=paragraph_id,
    edge_type="HAS_PARAGRAPH",
    properties={
        "order": 3,  # Third paragraph in the section
        "character_offset": 450
    }
)

print(f"Created has_paragraph relationship with ID: {has_paragraph.id}")</code></pre>
        </div>

        <!-- References Edge -->
        <div id="edge-references" class="code-container">
          <h3 class="title is-5">Creating References Relationships</h3>
          <p>Link specific paragraphs to papers they reference:</p>
          <pre><code>from researcharcade import GraphDB

# Initialize database connection
db = GraphDB()

# Create references edge
references = db.create_edge(
    from_node=paragraph_id,
    to_node=referenced_paper_id,
    edge_type="REFERENCES",
    properties={
        "citation_number": 15,
        "citation_text": "[15]",
        "character_position": 234
    }
)

print(f"Created references relationship with ID: {references.id}")</code></pre>
        </div>

        <!-- Collaboration Edge -->
        <div id="edge-collaboration" class="code-container">
          <h3 class="title is-5">Creating Collaboration Relationships</h3>
          <p>Connect authors who have collaborated on papers:</p>
          <pre><code>from researcharcade import GraphDB

# Initialize database connection
db = GraphDB()

# Create collaboration edge
collaboration = db.create_edge(
    from_node=author1_id,
    to_node=author2_id,
    edge_type="COLLABORATED_WITH",
    properties={
        "num_papers": 5,
        "first_collaboration_year": 2015,
        "last_collaboration_year": 2023,
        "shared_papers": ["paper_id_1", "paper_id_2", "paper_id_3"]
    }
)

print(f"Created collaboration relationship with ID: {collaboration.id}")</code></pre>
        </div>

        <!-- Supervision Edge -->
        <div id="edge-supervision" class="code-container">
          <h3 class="title is-5">Creating Supervision Relationships</h3>
          <p>Represent advisor-advisee or mentor-mentee relationships:</p>
          <pre><code>from researcharcade import GraphDB

# Initialize database connection
db = GraphDB()

# Create supervision edge
supervision = db.create_edge(
    from_node=advisor_id,
    to_node=student_id,
    edge_type="SUPERVISES",
    properties={
        "relationship_type": "PhD Advisor",
        "start_date": "2018-09-01",
        "end_date": "2023-06-15",
        "institution": "Stanford University"
    }
)

print(f"Created supervision relationship with ID: {supervision.id}")</code></pre>
        </div>

        <!-- Reviews Edge -->
        <div id="edge-reviews" class="code-container">
          <h3 class="title is-5">Creating Reviews Relationships</h3>
          <p>Connect reviews to the papers they evaluate:</p>
          <pre><code>from researcharcade import GraphDB

# Initialize database connection
db = GraphDB()

# Create reviews edge
reviews = db.create_edge(
    from_node=review_id,
    to_node=paper_id,
    edge_type="REVIEWS",
    properties={
        "review_round": 1,
        "review_date": "2017-05-15",
        "decision": "accept"
    }
)

print(f"Created reviews relationship with ID: {reviews.id}")</code></pre>
        </div>

        <!-- Published In Edge -->
        <div id="edge-published_in" class="code-container">
          <h3 class="title is-5">Creating Published In Relationships</h3>
          <p>Link papers to their publication venues:</p>
          <pre><code>from researcharcade import GraphDB

# Initialize database connection
db = GraphDB()

# Create published_in edge
published_in = db.create_edge(
    from_node=paper_id,
    to_node=venue_id,
    edge_type="PUBLISHED_IN",
    properties={
        "year": 2017,
        "volume": "30",
        "pages": "5998-6008",
        "presentation_type": "oral"
    }
)

print(f"Created published_in relationship with ID: {published_in.id}")</code></pre>
        </div>

        <!-- Affiliated With Edge -->
        <div id="edge-affiliated_with" class="code-container">
          <h3 class="title is-5">Creating Affiliated With Relationships</h3>
          <p>Connect authors to their institutional affiliations:</p>
          <pre><code>from researcharcade import GraphDB

# Initialize database connection
db = GraphDB()

# Create affiliated_with edge
affiliated_with = db.create_edge(
    from_node=author_id,
    to_node=institution_id,
    edge_type="AFFILIATED_WITH",
    properties={
        "start_date": "2015-01-01",
        "end_date": None,  # Still affiliated
        "position": "Senior Research Scientist",
        "is_primary": True
    }
)

print(f"Created affiliated_with relationship with ID: {affiliated_with.id}")</code></pre>
        </div>

        <!-- Has Keyword Edge -->
        <div id="edge-has_keyword" class="code-container">
          <h3 class="title is-5">Creating Has Keyword Relationships</h3>
          <p>Tag papers with relevant keywords:</p>
          <pre><code>from researcharcade import GraphDB

# Initialize database connection
db = GraphDB()

# Create has_keyword edge
has_keyword = db.create_edge(
    from_node=paper_id,
    to_node=keyword_id,
    edge_type="HAS_KEYWORD",
    properties={
        "relevance_score": 0.95,
        "source": "author_provided",  # or "auto_extracted"
        "confidence": 0.98
    }
)

print(f"Created has_keyword relationship with ID: {has_keyword.id}")</code></pre>
        </div>

        <!-- Uses Dataset Edge -->
        <div id="edge-uses_dataset" class="code-container">
          <h3 class="title is-5">Creating Uses Dataset Relationships</h3>
          <p>Link papers to the datasets they utilize:</p>
          <pre><code>from researcharcade import GraphDB

# Initialize database connection
db = GraphDB()

# Create uses_dataset edge
uses_dataset = db.create_edge(
    from_node=paper_id,
    to_node=dataset_id,
    edge_type="USES_DATASET",
    properties={
        "purpose": "evaluation",  # or "training", "validation"
        "subset": "test",
        "metrics_reported": ["BLEU", "accuracy"]
    }
)

print(f"Created uses_dataset relationship with ID: {uses_dataset.id}")</code></pre>
        </div>
      </div>


      <!-- Next Steps -->
      <div class="content mt-6">
        <h2 class="title is-3">Next Steps</h2>
        <p>
          Now that you can add nodes and edges, explore these related tutorials:
        </p>
        <div class="columns is-multiline mt-4">
          <div class="column is-half">
            <a class="box" href="./crud-read.html">
              <article class="media">
                <figure class="media-left">
                  <span class="icon is-large"><i class="fa-solid fa-book-open fa-2x"></i></span>
                </figure>
                <div class="media-content">
                  <h3 class="title is-5">Read Nodes & Edges</h3>
                  <p>Query and retrieve the entities you've created.</p>
                </div>
              </article>
            </a>
          </div>

          <div class="column is-half">
            <a class="box" href="./crud-edit.html">
              <article class="media">
                <figure class="media-left">
                  <span class="icon is-large"><i class="fa-solid fa-pen-to-square fa-2x"></i></span>
                </figure>
                <div class="media-content">
                  <h3 class="title is-5">Edit Nodes & Edges</h3>
                  <p>Update properties and modify relationships.</p>
                </div>
              </article>
            </a>
          </div>
        </div>
      </div>

      <!-- Navigation -->
      <hr class="mt-6" />
      <nav class="level">
        <div class="level-left">
          <div class="level-item">
            <a href="./index.html" class="button is-light">
              <span class="icon is-small">
                <i class="fas fa-arrow-left"></i>
              </span>
              <span>Back to Tutorials</span>
            </a>
          </div>
        </div>
        <div class="level-right">
          <div class="level-item">
            <a href="./crud-read.html" class="button is-link">
              <span>Next: Read Nodes & Edges</span>
              <span class="icon is-small">
                <i class="fas fa-arrow-right"></i>
              </span>
            </a>
          </div>
        </div>
      </nav>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="content has-text-centered is-size-7">
        <p>
          Built with the <a href="https://github.com/eliahuhorwitz/Academic-project-page-template" target="_blank">Academic Project Page Template</a>.
          Licensed under <a href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank">CC BY-SA 4.0</a>.
        </p>
      </div>
    </div>
  </footer>

  <script>
    // Node type selector functionality
    const nodeSelect = document.getElementById('nodeTypeSelect');
    const nodePlaceholder = document.getElementById('nodePlaceholder');
    const nodeContainers = document.querySelectorAll('[id^="node-"]');

    nodeSelect.addEventListener('change', function() {
      const selectedValue = this.value;
      
      // Hide all node containers
      nodeContainers.forEach(container => {
        container.classList.remove('is-active');
      });
      
      // Show placeholder or selected container
      if (selectedValue === '') {
        nodePlaceholder.style.display = 'block';
      } else {
        nodePlaceholder.style.display = 'none';
        const selectedContainer = document.getElementById('node-' + selectedValue);
        if (selectedContainer) {
          selectedContainer.classList.add('is-active');
        }
      }
    });

    // Edge type selector functionality
    const edgeSelect = document.getElementById('edgeTypeSelect');
    const edgePlaceholder = document.getElementById('edgePlaceholder');
    const edgeContainers = document.querySelectorAll('[id^="edge-"]');

    edgeSelect.addEventListener('change', function() {
      const selectedValue = this.value;
      
      // Hide all edge containers
      edgeContainers.forEach(container => {
        container.classList.remove('is-active');
      });
      
      // Show placeholder or selected container
      if (selectedValue === '') {
        edgePlaceholder.style.display = 'block';
      } else {
        edgePlaceholder.style.display = 'none';
        const selectedContainer = document.getElementById('edge-' + selectedValue);
        if (selectedContainer) {
          selectedContainer.classList.add('is-active');
        }
      }
    });
  </script>

</body>
</html>